{% extends 'base.html' %}

{% block header %}
<h1> Torrent Health Tracker <a style="float: right;"> Updated: {{ update_time }} UTC </a>
</h1>
<h4> <a href="/">(about</a> | <a href="https://github.com/umbra-archive/torrent_swarm_monitoring_daemon">code </a> | <a href="/data/stats.html">stats)<a/>
<a style="float: right;" href="/data/torrents.json">(download as json)</a>
</h4>

{% endblock %}

{% block content %}

<table>
    <thead>
        <th>Info Hash</th>
<!--    <th data-sort-method="number" data-sort-default="">Name</th> -->
        <th>Link</th>
        <th>Type</th>
        <th>Size</th>
        <th data-sort-method="number">Seeders</th>
        <th data-sort-method="number">Leechers</th>
       <!--    <th data-sort-method="number">Scraped</th> -->
        <th data-sort-method="number" >DHT peers</th>
        <th>Last Updated</th>
    </thead>
    <tbody>
{% for row in data %}
<tr>
  <td>  {{row.infohash}} </td>
  <!--
  <td>  {{row.name}} </td>
  -->
  <td>  {{row.link}} </td>
  <td>  {{row.type}} </td>
  <td>  {{row.size_bytes| filesizeformat}} </td>
  <td>  {{row.seeders}} </td>
  <td>  {{row.leechers}} </td>
  <td>  {{row.dht_peers}} </td>
  <!--
  <td>  {{row.tracker_scraped}} </td>
  <td>  {{row.last_updated}} </td>
  --> 
  <td>  {{row.dht_scraped}} </td>
</tr>
{% endfor %}
    </tbody>
</table>

{% endblock %}
